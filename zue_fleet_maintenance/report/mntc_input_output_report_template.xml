<?xml version="1.0" encoding="utf-8"?>
<odoo>  
    <template id="report_input_document">
    <t t-call="web.html_container">
        <t t-foreach="inside_foreach_docs or docs" t-as="o">
                <t t-call="zue_fleet_maintenance.custom_report_layout"/>
                <div class="page">
                    <div>
                        <table style="width:100%;border-collapse: collapse;border:1.5px solid;">
                            <tr>
                                <td colspan="3" style="padding-top: 8px;font-size:24;border:1.5px solid;">
                                    <t t-if="o.state=='in'">
                                        <center><b>Ingreso:</b></center>
                                    </t>
                                    <t t-if="o.state=='programmed'">
                                        <center><b>Programado:</b></center>
                                    </t>
                                    <t t-if="o.state=='out'">
                                        <center><b>Salida:</b></center>
                                    </t>
                                </td>
                                <td colspan="6" style="padding-top: 8px;font-size:24;border:1.5px solid;">
                                    <center><b><span t-field="o.number"/></b></center>
                                </td>
                                <td colspan="3" style="padding-top: 8px;font-size:24;border:1.5px solid;">
                                    <t t-if="o.state=='in'">
                                        <center><b><span t-field="o.incoming_date" t-field-options='{"format": "d/MM/y"}'/></b></center>
                                    </t>
                                    <t t-if="o.state=='programmed'">
                                        <center><b><span t-field="o.scheduled_incoming_date" t-field-options='{"format": "d/MM/y"}'/></b></center>
                                    </t>
                                    <t t-if="o.state=='out'">
                                        <center><b><span t-field="o.outgoing_date" t-field-options='{"format": "d/MM/y"}'/></b></center>
                                    </t>
                                </td>                                
                            </tr>
                            <tr align="center" style="background-color: #D5D5D5;">
                                <td colspan="13" style="padding-top: 8px;font-size:16;border-bottom:2px solid;border-top:2px solid;">
                                    <b>Información del Equipo</b>
                                </td>                            
                            </tr>
                            <tr>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;width:15%;padding-left: 8px">
                                    <b>Placa:</b>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;width:15%">
                                    <center><span t-field="o.vehicle_id.placa_nro"/></center>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;width:15%;padding-left: 8px">
                                    <b>Móvil:</b>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;width:15%">
                                    <center><span t-field="o.movil_nro"/></center>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;width:15%;padding-left: 8px">
                                    <b>Modelo:</b>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;width:25%">
                                    <center><span t-field="o.vehicle_id.model_id"/></center>
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;padding-left: 8px">
                                    <b>Odómetro:</b>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                    <center><span t-field="o.odometer"/></center>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;padding-left: 8px">
                                    <b>Taller:</b>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                    <center><span t-field="o.garage_id"/></center>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;padding-left: 8px">
                                    <b>Localización:</b>
                                </td>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                    <center><span t-field="o.location_type"/></center>
                                </td>
                            </tr>
                            <tr align="center" style="background-color: #D5D5D5;">
                                <td colspan="13" style="padding-top: 8px;font-size:16;border-bottom:2px solid;border-top:2px solid;">
                                    <b>Información de Solicitud</b>
                                </td>                            
                            </tr>
                            <tr>
                                <td colspan="2" style="padding-top: 8px;font-size:12;border:1.5px solid;padding-left: 8px">
                                    <b>Solicitante:</b>
                                </td>
                                <td colspan="4" style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                    <center><span t-field="o.requester_id"/></center>
                                </td>
                                <td colspan="3" style="padding-top: 8px;font-size:12;border:1.5px solid;padding-left: 8px">
                                    <b>Número celular:</b>
                                </td>
                                <td colspan="3" style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                    <center><span t-field="o.work_phone"/></center>
                                </td>
                            </tr>
                            <t t-if="len(o.mntc_request_ids) &gt; 0 or len(o.workorder_ids) &gt; 0">
                                <tr align="center" style="background-color: #D5D5D5;">
                                    <td colspan="13" style="padding-top: 8px;font-size:16;border-bottom:1.5px solid;border-top:2px solid;">
                                        <b>Razón de ingreso</b>
                                    </td>                            
                                </tr>
                            </t>
                        </table>    
                        <t t-if="len(o.mntc_request_ids) &gt; 0">
                            <table style="width:100%;border-collapse: collapse;border:1.5px solid;">                            
                                <tr align="center">
                                    <td colspan="6" style="padding-top: 8px;font-size:12;border-bottom:2px solid;">
                                        <b>Solicitud</b>
                                    </td>                            
                                </tr>
                                <tr align="center">
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:15%">
                                        <b>Número</b>
                                    </td>
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:15%">
                                        <b>Nombre</b>
                                    </td> 
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:20%">
                                        <b>Metodo de detección</b>
                                    </td>   
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:20%">
                                        <b>Síntoma</b>
                                    </td> 
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:10%">
                                        <b>Tipo</b>
                                    </td> 
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:%">
                                        <b>Aprobado por</b>
                                    </td> 
                                </tr>
                                <t t-foreach="o.mntc_request_ids" t-as="r">
                                    <tr align="center">
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="r.number"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="r.name"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <t t-foreach="r.detection_method" t-as="d">
                                                <center><span t-field="d.description"/></center>
                                            </t>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <t t-foreach="r.symptom_ids" t-as="s">
                                                <center><span t-field="s.name"/></center>
                                            </t>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="r.type_mntc"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="r.approved_tech_id"/></center>
                                        </td>
                                    </tr>
                                </t>
                            </table>
                        </t>
                        <t t-if="len(o.workorder_ids) &gt; 0">
                            <table style="width:100%;border-collapse: collapse;border:1.5px solid;">                            
                                <tr align="center">
                                    <td colspan="5" style="padding-top: 8px;font-size:12;border-bottom:2px solid;border-top:1.5px solid;">
                                        <b>Orden de Trabajo</b>
                                    </td>                            
                                </tr>
                                <tr align="center">
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:15%">
                                        <b>Número</b>
                                    </td>
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:10%">
                                        <b>Tipo</b>
                                    </td>
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:15%">
                                        <b>Número de la Solicitud</b>
                                    </td>
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;width:15%">
                                        <b>Nombre de la Solicitud</b>
                                    </td>  
                                    <td style="padding-top: 8px;font-size:12;border-bottom:2px solid;border:1.5px solid;">
                                        <b>Aprobado por</b>
                                    </td> 
                                </tr>
                                <t t-foreach="o.workorder_ids" t-as="w">
                                    <tr align="center">
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="w.number"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="w.type_mntc"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="w.request_id.number"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="w.request_id.name"/></center>
                                        </td>
                                        <td style="padding-top: 8px;font-size:12;border:1.5px solid;">
                                            <center><span t-field="w.approved_tech_id"/></center>
                                        </td>
                                    </tr>
                                </t>
                            </table>                           
                        </t>
                        <table style="width:100%;">
                            <tr>
                                <td colspan="4"><![CDATA[&#160;]]></td>
                            </tr>
                            <tr>
                                <td colspan="4"><![CDATA[&#160;]]></td>
                            </tr>
                            <tr>
                                <td colspan="4" style="border-bottom:2px solid;width:45%;font-size:12;"><center><span t-field="o.requester_id"/></center></td>
                                <td style="width:10%;"> </td>
                                <td colspan="4" style="border-bottom:2px solid;width:45%;font-size:12;"><center><span t-field="o.create_uid"/></center></td>
                            </tr>
                            <tr>
                                <td align="center" colspan="4" style="font-size:12;">Reporte</td>
                                <td> </td>
                                <td align="center" colspan="4" style="font-size:12;">Recibir</td>
                            </tr>
                        </table>
                    </div>
                </div>                                    
        </t>        
    </t>
    </template>
</odoo>
