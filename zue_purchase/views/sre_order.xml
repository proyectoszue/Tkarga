<odoo>
  <data>
    <record model='ir.actions.act_window' id='sre_act_view'>
      <field name="name">Recursos economicos</field>
      <field name="res_model">sre.order</field>
      <field name="view_mode">tree,form</field>
    </record>

    <record model='ir.ui.view' id='zue_purchase.sre_tree_view'>
      <field name="name">sre.tree.view</field>
      <field name="model">sre.order</field>
      <field name="arch" type="xml">
        <tree>
          <field name="state" invisible="1"/>
          <field name="name"/>
          <field name="date"/>
          <field name="partner_id"/>
          <field name="term_paid_id"/>
          <field name="type_paid_id"/>
          <field name="consignar"/>
          <field name="amount_untaxed" sum="Total subtotal"/>
          <field name="amount_tax" sum="Total impuestos"/>
          <field name="amount_total" sum="Total"/>
        </tree>
      </field>
    </record>

    <record model='ir.ui.view' id='sre_form_view'>
      <field name="name">sre.form.view</field>
      <field name="model">sre.order</field>
      <field name="arch" type="xml">
        <form string="Solicitudes">
          <header>
            <button name="wkf_sre_anular" type="object" string="Anular" id="revconf_anular" attrs="{'invisible':[('state','not in', ['solicitado','revisado','aprobado'])]}"/>
            <button name="wkf_sre_revisado" type="object" string="Revisado" id="revisado_confirmado" class="oe_highlight" attrs="{'invisible':[('state','not in', ['solicitado'])]}"/>
            <button name="wkf_sre_confirmado" type="object" string="Aprobado" id="confirmado_contabilizado" class="oe_highlight" attrs="{'invisible':[('state','not in', ['revisado'])]}"/>

            <field name="state" widget="statusbar" readonly="1"/>
            <!-- # statusbar_colors='{"solicitado":"red","revisado":"blue","aprobado":"green","pagado":"orange","anulado":"gray"}' -->
          </header>
          <sheet>
            <group>
              <div class="oe_title">
                <h1>
                <field name="name" class="oe_inline" readonly="1"/>
                </h1>
              </div>
            </group>
            <group>
              <group>
                <field name="date" attrs="{'readonly':[('state','!=','solicitado')]}"/>
                <field name="branch_id" attrs="{'readonly':[('state','!=','solicitado')]}"/>              
                <field name="consignar" attrs="{'readonly':[('state','!=','solicitado')]}"/>
                <field name="company_id" attrs="{'readonly':[('state','!=','solicitado')]}"/>
              </group>
              <group>
                <field name="partner_id" required="1"  attrs="{'readonly':[('state','!=','solicitado')]}"/>
                <field name="term_paid_id" required="1"  attrs="{'readonly':[('state','!=','solicitado')]}"/>
                <field name="type_paid_id" required="1"  attrs="{'readonly':[('state','!=','solicitado')]}"/>
              </group>
            </group>
            <notebook>
              <page string="Solicitud">
                <field name="sre_order_line_id"  attrs="{'readonly':[('state','!=','solicitado')]}">
                  <tree editable="bottom">
                    <field name="name"/>
                    <field name="account_analytic_id"/>
                    <field name="qty"/>
                    <field name="amount"/>
                    <field name="taxes_id" widget="many2many_tags"/>
                    <field name="amount_total" readonly="1"/>
                  </tree>
                </field>
                <group class="oe_subtotal_footer oe_right">
                  <field name="amount_untaxed" widget="monetary"/>
                  <field name="amount_tax" widget="monetary"/>
                  <div class="oe_subtotal_footer_separator oe_inline">
                    <label for="amount_total"/>
                  </div>
                  <field name="amount_total" nolabel="1" class="oe_subtotal_footer_separator" widget="monetary"/>
                </group>
              </page>
              <page string="Contabilidad" attrs="{'invisible':[('move_id','=',None)]}">
                <field name="move_id" readonly="1"/>
              </page>
            </notebook>
            <newline/>
            <group string="Observaciones">
              <field name="comments" nolabel="1"  attrs="{'readonly':[('state','!=','solicitado')]}"/>
            </group>
            <newline/>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <record model="ir.ui.view" id="sre_order_search_view">
      <field name="name">sre_order_search_view</field>
      <field name="model">sre.order</field>
      <field name="arch" type="xml">
        <search string="Ordenes">
          <field name="name" string="Numero de orden"/>
          <field name="partner_id"/>
          <field name="state" string="Estado"/>
          <filter name="state" string="Estado" context="{'group_by':'state'}"/>
          <filter name="date" string="Fecha" context="{'group_by':'date'}"/>
          <filter name="partner_id" string="Solicitante" context="{'group_by':'partner_id'}"/>
        </search>
      </field>
    </record>

    <!-- Recursos economicos legalizacion -->
    <record model='ir.ui.view' id='sre_form_view_legalizacion'>
    <field name="name">sre.form.view.legalizacion</field>
    <field name="model">sre.order</field>
    <field name="arch" type="xml">
      <form string="Solicitudes">
        <!-- <header>
          <button name="wkf_legal_verificacion" type="object" context="{'soportes':attachment_ids,'total':amount_untaxed,'legalizacion':sre_order_legalizacion_id,'origen':name,'date':date}" string="Enviar a aprobacion" id="wkflv" />
          <button name="wkf_sre_legalizado_contabilizar" context="{'soportes':attachment_ids,'total':amount_untaxed,'legalizacion':sre_order_legalizacion_id,'origen':name,'date':date}" type="object" string="Legalizar y Contabilizar"  class="oe_highlight"/>
          <button name="wkf_legal_devolucion" context="{'soportes':attachment_ids,'total':amount_untaxed,'legalizacion':sre_order_legalizacion_id,'origen':name,'date':date}" type="object" string="Rechazar"  class="oe_highlight"/>

          <field name="state" widget="statusbar" readonly="1"/>
        </header> -->
        <sheet>
          <group>
            <field name="state" widget="statusbar" readonly="1"/>
            <field name="amount_untaxed" invisible="1"/>
          </group>
          <group>
            <field name="date" invisible="1"/>
          </group>
          <newline/>
          <!-- <footer attrs="{'invisible':[('state','!=','legalizacion_borrador')]}">
            <button name="cargar_items_legalizacion" string="Cargar conceptos" type="object" context="{'sre_order_legalizacion_id':sre_order_legalizacion_id}"/>
            or 
            <button name="wkf_sre_legalizado_cancelar" string="Cancelar" type="object" class="oe_link"/>
          </footer> -->
        </sheet>
      </form>
    </field>
    </record>
   
    <record model="ir.actions.act_window" id="action_payment_type">
        <field name="name">Tipos de pago</field>
        <field name="res_model">payment.type</field>
        <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.ui.view" id="view_payment_type_tree">
        <field name="name">payment.type.tree</field>
        <field name="model">payment.type</field>
        <field name="arch" type="xml">
            <tree string="Tipos de pago">
                <field name="name"/>
                <field name="code"/>
                <field name="active"/>
            </tree>
        </field>
    </record>

    <record model="ir.ui.view" id="view_payment_type_form">
        <field name="name">payment.type.form</field>
        <field name="model">payment.type</field>
        <field name="arch" type="xml">
            <form string="Tipos de pago">
              <group>
                  <field name="name"/>
                  <field name="code"/>
                  <field name="active"/>
                  <separator/>
                  <field name="note"/>
              </group>
            </form>
        </field>
    </record>
  </data>
</odoo>